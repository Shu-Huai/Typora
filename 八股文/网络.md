# 网络

## HTTP

### HTTP的8种请求方法

HTTP1.0定义了三种请求方法：GET，POST和HEAD方法。

HTTP1.1新增了五种请求方法：OPTIONS，PUT，DELETE，TRACE和CONNECT方法

1. OPTIONS

   返回服务器针对特定资源所支持的HTTP请求方法，也可以利用向web服务器发送‘*’的请求来测试服务器的功能性

2. HEAD

   向服务器索与GET请求相一致的响应，只不过响应体将不会被返回。这一方法可以再不必传输整个响应内容的情况下，就可以获取包含在响应小消息头中的元信息。

3. GET

   向特定的资源发出请求。

   注意：GET方法不应当被用于产生“副作用”的操作中，例如在Web Application中，其中一个原因是GET可能会被网络蜘蛛等随意访问。

4. POST

   向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。

   数据被包含在请求体中。

   POST请求可能会导致新的资源的建立和/或已有资源的修改。

5. PUT

   向指定资源位置上传其最新内容

6. DELETE

   请求服务器删除Request-URL所标识的资源

7. TRACE

   回显服务器收到的请求，主要用于测试或诊断

8. CONNECT

   HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。

### 常见的 HTTP 状态码有哪些?

- **1×× : 请求处理中**，请求已被接受，正在处理
  - 属于提示类信息，是一种中间状态，实际中用的比较少
  - 100-Continue：继续

- **2×× : 请求成功**，请求被成功处理 200 OK
  - 200-OK：成功。如果是非 HEAD 请求，响应头会有 body 数据

  - 202-Accepted
    - 已接受。已经接受请求，但未处理完成

  - 204-No Content：与 200 基本相同，但响应没有 body 数据

  - 206-Partial Content：应用于 HTTP 断点续传，返回的 body 是资源的一部分

- **3×× : 重定向**，要完成请求必须进行进一步处理

  - 301-Moved Permanently：永久重定向

  - 302-Found：临时重定向
    - 301 和 302 都会在响应头中添加字段 Location 表明 URL

  - 304-Not Modified：已缓存（资源没修改，用之前缓存就行）


- **4×× : 客户端错误，请求报文不合法** 

  - 400-Bad Request：请求有语法问题 
  - 401-Unauthorized：需要通过 HTTP 认证

  - 403-Forbidden：服务器禁止访问资源，不是客户端的问题

  - 404-Not Found：请求的资源在服务器上找不到


- **5×× : 服务器端错误，服务器不能处理合法请求** 

  - 500-Internal Server Error：发生错误（比较笼统）

  - 501-Not Implemented：该功能还不支持
  - 502-Bad Gateway：服务器作为网关/代理返回，表示服务器自身工作正常，但访问后端服务器发送错误
  - 503-Service Unavailable：当前忙，暂时无法响应
    - 此响应代码表明 HTTP 服务器正常，只是下层 web 服务不能正常工作
    - 最可能的理由是资源不足：服务器**突然收到太多请求**，以至于无法全部处理
    - 由于此问题多半由客户端反复发送请求造成，因此 HTTP 服务器可以选择拒绝客户端请求并返回 503
    - 重试
      - 服务器可以在响应头的 Retry-After 字段告知客户端何时可以重试
  - 504-Gateway Timeout：网关超时
    - 502 和 504 的区别
      - 从网络角度，502 已经与后端建立了连接，但超时（电话打通了，但没人接）；
      - 504 与后端连接未建立，超时（电话没打通）



