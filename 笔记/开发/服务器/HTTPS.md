# HTTPS

## 什么是 HTTPS？

HTTPS（**HyperText Transfer Protocol Secure**）是一种安全的超文本传输协议，是 HTTP（超文本传输协议）的安全版。它用于在客户端（如浏览器）和服务器之间传输数据，并通过加密手段保护通信的机密性和完整性。

### HTTPS 的核心功能

- **数据加密**

    使用加密技术（如 TLS/SSL）对传输的数据进行加密，防止数据在传输过程中被窃听或篡改。

- **身份验证**

    HTTPS 使用数字证书（如 SSL 证书）验证服务器的身份，确保用户连接的是真实的服务器，而不是冒充的服务器。

- **数据完整性**

    确保数据在传输过程中不会被篡改。如果数据发生变化，接收方会检测到。

### HTTPS 的工作原理

HTTPS 主要通过以下几个步骤实现安全通信：

1. **客户端发起请求**

    浏览器向服务器发送请求，表明需要建立 HTTPS 连接。

2. **服务器响应并发送证书**

    服务器会发送一个包含公钥的数字证书（SSL 证书）给客户端，证书中包含服务器身份信息。

3. **验证证书**

    客户端验证服务器的证书是否合法，是否由受信任的证书颁发机构（CA）签发。

4. **建立加密会话**

    双方使用公钥加密生成会话密钥，用于后续的对称加密通信。

5. **安全数据传输**

    双方使用对称加密算法加密数据，确保数据安全传输。

### HTTPS 的优势

- **增强安全性**

    防止中间人攻击（MITM）和数据泄露。

- **提高可信度**

    用户可以通过 HTTPS 知道网站是经过验证的，增强信任感。

- **SEO 优势**

    搜索引擎（如 Google）会优先推荐 HTTPS 网站，有助于提升搜索排名。

### HTTPS 与 HTTP 的区别

| 特性         | HTTP                   | HTTPS                    |
| ------------ | ---------------------- | ------------------------ |
| **安全性**   | 不加密，易被窃听和篡改 | 加密，安全性高           |
| **端口号**   | 80                     | 443                      |
| **使用场景** | 不敏感数据的普通网站   | 涉及隐私或敏感信息的站点 |
| **速度**     | 更快（无加密负担）     | 略慢（加密有一定开销）   |

### HTTPS 的局限性

- **性能开销**

    HTTPS 需要更多的计算资源来进行加密和解密。

- **证书费用**

    虽然有免费证书（如 Let's Encrypt），但高级证书可能有费用。

- **复杂性增加**

    部署 HTTPS 需要一定的技术支持。

## 一些概念

### 常见的加密方式

#### 对称加密

采用单钥密码系统的加密方法，同一个密钥可以同时用作信息的加密和解密，这种加密方法称为对称加密，也称为单密钥加密，特征：加密和解密所用的密钥是相同的

常见对称加密算法（了解）：DES、3DES、AES、TDEA、Blowfish、RC2 等

特点：算法公开、计算量小、加密速度快、加密效率高

对称加密其实就是通过同一个“密钥”，把明文加密成密文，并且也能把密文解密成明文。

一个简单的对称加密，按位异或

假设明文 $a=1234$，密钥 $key = 8888$

则加密 $a\oplus key$ 得到的密文 $b$ 为 9834.

然后针对密文 9834 再次进行运算 $b\oplus key$，得到的就是原来的明文 1234.

（对于字符串的对称加密也是同理，每一个字符都可以表示成一个数字）

当然，按位异或只是最简单的对称加密。HTTPS 中并不是使用按位异或。

#### 非对称加密

**概念**

需要两个密钥来进行加密和解密，这两个密钥是公开密钥（public key，简称公钥）和私有密钥（private key，简称私钥）。

常见非对称加密算法（了解）：RSA，DSA，ECDSA

**特点**

算法强度复杂、安全性依赖于算法与密钥但是由于其算法复杂，而使得加密解密速度没有对称加密解密的速度快。

非对称加密要用到两个密钥，一个叫做“公钥”，一个叫做”私钥”

公钥和私钥是配对的。最大的缺点就是运算速度非常慢，比对称加密要慢很多.

**用法**

通过公钥对明文加密，变成密文

通过私钥对密文解密，变成明文

也可以反着用

通过私钥对明文加密，变成密文

通过公钥对密文解密，变成明文

### 数据摘要 && 数据指纹

数据摘要为什么叫做数据指纹，因为数据摘要具有唯一性，跟人的指纹一样具有唯一性

数字指纹（数据摘要）其基本原理是利用单向散列函数（Hash 函数）对信息进行运算，生成一串固定长度的数字摘要。数字指纹并不是一种加密机制，但可以用来判断数据有没有被篡改。

**摘要常见算法**：有 MD5、SHA1、SHA256、SHA512 等，算法把无限的映射成有限，因此可能会有碰撞（两个不同的信息，算出的摘要相同，但是概率非常低）

**摘要特征**：和加密算法的区别是，摘要严格意义不是加密，因为没有解密，只不过从摘要很难反推原信息，通常用来进行数据对比

比如数据库明文密码保存——不推荐，我们就可以将密码进行摘要保存

### 数字签名

摘要经过加密，就得到数字签名